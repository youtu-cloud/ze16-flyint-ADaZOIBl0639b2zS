
交互大屏、笔记本等产品出口海外，也是网络相关设备，会发出AP热点网络，所以出口海外要符合当地法规。 


大屏需要以自带网卡开出本地热点，用于投屏、设备间协同等操作。热点这块受限影响的是信道，每个国家都有雷达信道以及其它军事等受限信道，使用信道时避开这些雷达信道。


另外，信道列表分为室内设备和室外设备AP，云屏设备属于室内设备。频段的信道范围，以中国为例：


* 2\.4G频段 不分室内室外，AP信道是1\-13
* 5G频段 中国室内信道有36, 40, 44, 48, 52, 56, 60, 64, 149, 153, 157, 161, 165，但室外信道只有149, 153, 157, 161, 165


不同的国家和地区规定了在本国或本地区可以使用的信道、射频信号在信道中的最大发射功率。工作在不同信道的射频信号，信号强度和稳定性会有差别。


比如上面中国室内5G可以使用雷达信道36，但电子设备连上36信道的wifi后只能开出2\.4G信道AP，即使强制让热点AP的信道与wifi相同，但稳定性还是一样差的。具体的频段信道概念，可见 [网卡\-频段、信道、带宽 \- 唐宋元明清2188 \- 博客园](https://github.com)


那不同国家地区是如何处理国家码的呢？


安卓系统中有国家码的参数设置 ro.boot.wificountrycode\=CN， [WIFI 国家码和信道划分 \- 肉滚滚和代码 \- 博客园](https://github.com)。Linux也有命令行可以查询/设置当前国家码 [linux使用命令行设置wifi国家码\-CSDN博客](https://github.com)


Windows系统不开源，只能通过网卡供应商来完成这步操作了。我目前了解的是Realtek和Intel网卡


### **Realtek网卡**


瑞昱网卡如8821、8811等，Realtek网卡提供了SingleSkuSolutionCheckTool工具来查询/修改国家码信息，下载链接：[Realtek\_SingleSKUValidationTool.zip](https://github.com):[FlowerCloud机场](https://hushicha.org)


**查询国家码相关信息，show SingleSkuInfo**。下面是日本国家码信息：


![](https://img2024.cnblogs.com/blog/685541/202411/685541-20241119004838299-44596237.png)


日本支持的信道列表：


*\=\=\=\=\=\=\= Final Legal Channel list \=\=\=\=\=\=\=**2\.4G \[1(A) 2(A) 3(A) 4(A) 5(A) 6(A) 7(A) 8(A) 9(A) 10(A) 11(A) 12(P.F) 13(P.F) ]**5G \[36(P.F) 40(P.F) 44(P.F) 48(P.F) 52(P.F) 56(P.F) 60(P.F) 64(P.F) 100(P.F) 104(P.F) 108(P.F) 112(P.F) 116(P.F) 120(P.F)**\[124(P.F) 128(P.F) 132(P.F) 136(P.F) 140(P.F) 144(P.F) 149(P.F) 153(P.F) 157(P.F) 161(P.F) 165(P.F) ]*


**设置国家码为中国：set SingleSku countrycode CN**


![](https://img2024.cnblogs.com/blog/685541/202411/685541-20241119005014865-912161815.png)


设置后再查询，国家码信息已经修改。中国室内AP信道列表，36, 40, 44, 48, 52, 56, 60, 64, 149, 153, 157, 161, 165


我们可以记录各个国家的地区与国家码的关系，做成一个映射表。


当用户切换国家/地区时，自动执行上面国家码的设置，完成相应国家信道的要求。


注意：Realtek海外产品的信道管理，Windows需要应用层来实现切换。


### **Intel的AX系列网卡**


AX系列网卡不需要像Realteck上面代码去切换国家码，Intel网卡驱动内部已经自动适配了


需要查询/强制设置当前国家码，可以使用Intel提供的ANT工具，下载链接：[Intel\_ANT\_Tool.zip](https://github.com)。


此ANT工具是旧版本，只适用于AX系列。Intel新出Wifi7的BE系列，需要通过供应商或者给Intel发IPS拿最新版ANT工具，已经有欧洲捷克的同学提了相同问题：[Re: Ant tools for Intel(R) Wi\-Fi 7 BE200 320MHz network adapter (or BE201\-BE202\) \- Intel Community](https://github.com)


查询 ANT.exe \-QueryMCC：


![](https://img2024.cnblogs.com/blog/685541/202411/685541-20241119163025930-1347053680.jpg)


设置国家码：ANT –SetMcc  US，设置操作失败


![](https://img2024.cnblogs.com/blog/685541/202411/685541-20241119162941444-1534867998.jpg)


所以当切换国家/地区时国家码会自动完成切换。但同时，网卡会根据连接的Wifi环境自动切换至所在地区，也无法强制改为其它地区或者系统设置当前区域国家。


